USE [FCC]
GO

/****** Object:  Table [dbo].[FileContent]    Script Date: 31.10.2019 13:07:40 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING ON
GO

CREATE TABLE [dbo].[FileContent](
	[Id] [nvarchar](128) NOT NULL,
	[DateCreated] [datetime2](7) NOT NULL,
	[DateModified] [datetime2](7) NOT NULL,
	[IsActive] [bit] NOT NULL,
	[BinaryContent] [varbinary](max) NOT NULL,
	[FileType] [nvarchar](250) NOT NULL,
	[Name] [nvarchar](250) NOT NULL,
 CONSTRAINT [PK_FileContent] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO







USE [FCC]
GO

/****** Object:  Table [dbo].[PersonFileContent]    Script Date: 31.10.2019 11:42:54 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[PersonFileContent](
	[Id] [nvarchar](128) NOT NULL,
	[PersonId] [nvarchar](128) NOT NULL,
	[FileContentId] [nvarchar](128) NOT NULL,
 CONSTRAINT [PK_PersonFileContent] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[PersonFileContent]  WITH CHECK ADD  CONSTRAINT [FK_PersonFileContent_FileContent] FOREIGN KEY([FileContentId])
REFERENCES [dbo].[FileContent] ([Id])
GO

ALTER TABLE [dbo].[PersonFileContent] CHECK CONSTRAINT [FK_PersonFileContent_FileContent]
GO

ALTER TABLE [dbo].[PersonFileContent]  WITH CHECK ADD  CONSTRAINT [FK_PersonFileContent_Person] FOREIGN KEY([PersonId])
REFERENCES [dbo].[Person] ([Id])
GO

ALTER TABLE [dbo].[PersonFileContent] CHECK CONSTRAINT [FK_PersonFileContent_Person]
GO





USE [FCC]
GO

/****** Object:  Table [dbo].[PersonActivity]    Script Date: 30.10.2019 15:24:17 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[PersonActivity](
	[Id] [nvarchar](128) NOT NULL,
	[BiographyId] [nvarchar](128) NOT NULL,
	[DateCreated] [datetime2](7) NOT NULL,
	[DateModified] [datetime2](7) NOT NULL,
	[IsActive] [bit] NOT NULL,
	[Activity] [nvarchar](500) NOT NULL,
	[ActivityType] [int] NOT NULL,
	[DateBegin] [datetime2](7) NULL,
	[DateEnd] [datetime2](7) NULL,
 CONSTRAINT [PK_PersonActivity] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[PersonActivity]  WITH CHECK ADD  CONSTRAINT [FK_PersonActivity_PersonBiography] FOREIGN KEY([BiographyId])
REFERENCES [dbo].[PersonBiography] ([Id])
GO

ALTER TABLE [dbo].[PersonActivity] CHECK CONSTRAINT [FK_PersonActivity_PersonBiography]
GO






USE [FCC]
GO

/****** Object:  Table [dbo].[PersonDocument]    Script Date: 01.11.2019 14:50:43 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[PersonDocument](
	[Id] [nvarchar](128) NOT NULL,
	[PersonId] [nvarchar](128) NOT NULL,
	[FileContentId] [nvarchar](128) NOT NULL,
 CONSTRAINT [PK_PersonDocument] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[PersonDocument]  WITH CHECK ADD  CONSTRAINT [FK_PersonDocument_FileContent] FOREIGN KEY([FileContentId])
REFERENCES [dbo].[FileContent] ([Id])
GO

ALTER TABLE [dbo].[PersonDocument] CHECK CONSTRAINT [FK_PersonDocument_FileContent]
GO

ALTER TABLE [dbo].[PersonDocument]  WITH CHECK ADD  CONSTRAINT [FK_PersonDocument_Person] FOREIGN KEY([PersonId])
REFERENCES [dbo].[Person] ([Id])
GO

ALTER TABLE [dbo].[PersonDocument] CHECK CONSTRAINT [FK_PersonDocument_Person]
GO


